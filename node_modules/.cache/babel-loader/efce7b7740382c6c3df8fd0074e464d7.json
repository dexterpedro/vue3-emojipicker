{"remainingRequest":"/home/pedro/projects/emojipicker/node_modules/babel-loader/lib/index.js!/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/pedro/projects/emojipicker/src/components/emojis/Autocomplete.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pedro/projects/emojipicker/src/components/emojis/Autocomplete.vue","mtime":1710948328878},{"path":"/home/pedro/projects/emojipicker/babel.config.js","mtime":1710948328868},{"path":"/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js","mtime":1710951417708},{"path":"/home/pedro/projects/emojipicker/node_modules/babel-loader/lib/index.js","mtime":1710951419068},{"path":"/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js","mtime":1710951417708},{"path":"/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/index.js","mtime":1710951419058}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IGNsaWNrT3V0c2lkZSBmcm9tICdAL2RpcmVjdGl2ZXMvY2xpY2stb3V0c2lkZS5qcyc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBlbW9qaXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgb3BlbmVkUGlja2VyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBlbWl0czogWydjbG9zZScsICdjaGFuZ2UnLCAnc2VuZCddLAogIGRpcmVjdGl2ZXM6IHsKICAgIGNsaWNrT3V0c2lkZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF1dG9jb21wbGV0ZTogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHJlc3VsdHM6IFtdCiAgICAgIH0sCiAgICAgIGNvbnRlbnQ6IHRoaXMudmFsdWUgfHwgbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZSh2YWx1ZSkgewogICAgICB0aGlzLmNvbnRlbnQgPSB2YWx1ZTsKICAgIH0sCiAgICBvcGVuZWRQaWNrZXIodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgdGhpcy5hdXRvY29tcGxldGUuc2hvdyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsb3NlKCkgewogICAgICBpZiAodGhpcy5hdXRvY29tcGxldGUuc2hvdykgewogICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlLnNob3cgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG9uQ29tcGxldGUoewogICAgICB0YXJnZXQKICAgIH0pIHsKICAgICAgY29uc3QgewogICAgICAgIHZhbHVlCiAgICAgIH0gPSB0YXJnZXQ7CiAgICAgIGNvbnN0IGxhc3RXb3JkID0gdmFsdWUuc3BsaXQoJyAnKS5wb3AoKS50b0xvd2VyQ2FzZSgpOwogICAgICBpZiAobGFzdFdvcmQuc3RhcnRzV2l0aCgnOicpICYmIGxhc3RXb3JkLmxlbmd0aCA+IDMpIHsKICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZSA9IHsKICAgICAgICAgIHJlc3VsdHM6IHRoaXMuZW1vamlzLmZpbHRlcigoewogICAgICAgICAgICBuYW1lCiAgICAgICAgICB9KSA9PiBuYW1lLnJlcGxhY2UoL1xzL2csICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxhc3RXb3JkLnJlcGxhY2UoLzovZywgJycpKSksCiAgICAgICAgICBzaG93OiB0cnVlCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlID0gewogICAgICAgICAgcmVzdWx0czogW10sCiAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgIH07CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWUpOwogICAgfSwKICAgIG9uQ2xpY2soZW1vamkpIHsKICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb250ZW50OwogICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7CiAgICAgIHZhbHVlLnBvcCgpOwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBgJHt2YWx1ZS5qb2luKCcgJyl9ICR7ZW1vamkuZW1vaml9YCk7CiAgICAgIHRoaXMuJGVtaXQoJ3NlbmQnLCBlbW9qaSk7CiAgICAgIHRoaXMuYXV0b2NvbXBsZXRlLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5pbnB1dC5mb2N1cygpOwogICAgfQogIH0KfSk7"},{"version":3,"names":["defineComponent","clickOutside","props","value","type","String","Number","default","placeholder","emojis","Array","required","openedPicker","Boolean","emits","directives","data","autocomplete","show","results","content","watch","methods","onClose","onComplete","target","lastWord","split","pop","toLowerCase","startsWith","length","filter","name","replace","includes","$emit","onClick","emoji","join","$refs","input","focus"],"sources":["/home/pedro/projects/emojipicker/src/components/emojis/Autocomplete.vue"],"sourcesContent":["\n<script>\nimport { defineComponent } from 'vue'\n\nimport clickOutside from '@/directives/click-outside.js'\nexport default defineComponent({\n  props: {\n    value: {\n      type: [String, Number],\n      default: null\n    },\n    placeholder: {\n      type: String\n    },\n    emojis: {\n      type: Array,\n      required: true\n    },\n    openedPicker: {\n      type: Boolean,\n      required: true\n    }\n  },\n  emits: ['close', 'change', 'send'],\n  directives: {\n    clickOutside,\n  },\n  data () {\n    return {\n      autocomplete: {\n        show: false,\n        results: []\n      },\n      content: this.value || null,\n    }\n  },\n  watch: {\n    value (value) {\n      this.content = value\n    },\n    openedPicker (value) {\n      if (value) {\n        this.autocomplete.show = false\n      }\n    }\n  },\n  methods: {\n    onClose () {\n      if (this.autocomplete.show) {\n        this.autocomplete.show = false\n      }\n    },\n    onComplete ({ target }) {\n      const { value } = target\n      const lastWord = value.split(' ').pop().toLowerCase()\n      if (lastWord.startsWith(':') && lastWord.length > 3) {\n        this.autocomplete = {\n          results: this.emojis.filter(({ name }) => name.replace(/\\s/g, '').toLowerCase().includes(lastWord.replace(/:/g, ''))),\n          show: true\n        }\n        this.$emit('close')\n      } else {\n        this.autocomplete = {\n          results: [],\n          show: false\n        }\n      }\n      this.$emit('change', value)\n    },\n    onClick (emoji) {\n      let value = this.content\n      value = value.split(' ')\n      value.pop()\n      this.$emit('change', `${value.join(' ')} ${emoji.emoji}`)\n      this.$emit('send', emoji)\n      this.autocomplete.show = false\n      this.$refs.input.focus()\n    },\n  }\n})\n</script>\n\n<template>\n  <div class=\"w-full\">\n    <div v-click-outside=\"onClose\" :class=\"{ 'opacity-0 pointer-events-none': !autocomplete.show }\" class=\"vue3-discord-emojipicker__autocomplete w-full absolute transform -translate-y-full left-0 -top-4 transition duration-200\">\n      <div class=\"w-full bg-grey-400 py-3 rounded-xl shadow-xl\">\n        <p class=\"text-grey-100 font-semibold uppercase text-sm px-5 mb-3\">{{ autocomplete.results.length }} results</p>\n        <ul class=\"px-3\">\n          <li v-for=\"(result, r) in autocomplete.results.slice(0, 8)\" :key=\"r\" class=\"flex items-center justify-start hover:bg-grey-300 hover:bg-opacity-60 rounded-md px-2 py-1 cursor-pointer\"  @click=\"onClick(result)\">\n            <p class=\"text-lg\">{{ result.emoji}}</p>\n            <p class=\"text-white font-semibold text-sm ml-2\">\n              {{ `:${result.name.replace(/\\s/g, '')}:` }}\n            </p>\n          </li>\n        </ul>\n      </div> \n    </div>\n    <div class=\"w-full relative\">\n      <input ref=\"input\" v-model=\"content\" type=\"text\" class=\"w-full vue3-discord-emojipicker__input bg-transparent px-5 py-3 text-white outline-none text-base placeholder-grey-200\" :placeholder=\"placeholder\" @input=\"onComplete\">\n    </div>\n  </div>\n</template>"],"mappings":"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","ignoreList":[]}]}
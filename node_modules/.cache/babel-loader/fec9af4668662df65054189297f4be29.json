{"remainingRequest":"/home/pedro/projects/emojipicker/node_modules/babel-loader/lib/index.js!/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/pedro/projects/emojipicker/src/components/emojis/Autocomplete.vue?vue&type=template&id=9bb3e1ec","dependencies":[{"path":"/home/pedro/projects/emojipicker/src/components/emojis/Autocomplete.vue","mtime":1710948328878},{"path":"/home/pedro/projects/emojipicker/babel.config.js","mtime":1710948328868},{"path":"/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js","mtime":1710951417708},{"path":"/home/pedro/projects/emojipicker/node_modules/babel-loader/lib/index.js","mtime":1710951419068},{"path":"/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1710951420298},{"path":"/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js","mtime":1710951417708},{"path":"/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/index.js","mtime":1710951419058}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCByZXNvbHZlRGlyZWN0aXZlIGFzIF9yZXNvbHZlRGlyZWN0aXZlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAidy1mdWxsIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAidy1mdWxsIGJnLWdyZXktNDAwIHB5LTMgcm91bmRlZC14bCBzaGFkb3cteGwiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJ0ZXh0LWdyZXktMTAwIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRleHQtc20gcHgtNSBtYi0zIgp9Owpjb25zdCBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAicHgtMyIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IFsib25DbGljayJdOwpjb25zdCBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAidGV4dC1sZyIKfTsKY29uc3QgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXNtIG1sLTIiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJ3LWZ1bGwgcmVsYXRpdmUiCn07CmNvbnN0IF9ob2lzdGVkXzkgPSBbInBsYWNlaG9sZGVyIl07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2RpcmVjdGl2ZV9jbGlja19vdXRzaWRlID0gX3Jlc29sdmVEaXJlY3RpdmUoImNsaWNrLW91dHNpZGUiKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX3dpdGhEaXJlY3RpdmVzKChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoW3sKICAgICAgJ29wYWNpdHktMCBwb2ludGVyLWV2ZW50cy1ub25lJzogIV9jdHguYXV0b2NvbXBsZXRlLnNob3cKICAgIH0sICJ2dWUzLWRpc2NvcmQtZW1vamlwaWNrZXJfX2F1dG9jb21wbGV0ZSB3LWZ1bGwgYWJzb2x1dGUgdHJhbnNmb3JtIC10cmFuc2xhdGUteS1mdWxsIGxlZnQtMCAtdG9wLTQgdHJhbnNpdGlvbiBkdXJhdGlvbi0yMDAiXSkKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8zLCBfdG9EaXNwbGF5U3RyaW5nKF9jdHguYXV0b2NvbXBsZXRlLnJlc3VsdHMubGVuZ3RoKSArICIgcmVzdWx0cyIsIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgX2hvaXN0ZWRfNCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5hdXRvY29tcGxldGUucmVzdWx0cy5zbGljZSgwLCA4KSwgKHJlc3VsdCwgcikgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygibGkiLCB7CiAgICAgIGtleTogciwKICAgICAgY2xhc3M6ICJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IGhvdmVyOmJnLWdyZXktMzAwIGhvdmVyOmJnLW9wYWNpdHktNjAgcm91bmRlZC1tZCBweC0yIHB5LTEgY3Vyc29yLXBvaW50ZXIiLAogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gX2N0eC5vbkNsaWNrKHJlc3VsdCkKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfNiwgX3RvRGlzcGxheVN0cmluZyhyZXN1bHQuZW1vamkpLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfNywgX3RvRGlzcGxheVN0cmluZyhgOiR7cmVzdWx0Lm5hbWUucmVwbGFjZSgvXHMvZywgJycpfTpgKSwgMSAvKiBURVhUICovKV0sIDggLyogUFJPUFMgKi8sIF9ob2lzdGVkXzUpOwogIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pXSldLCAyIC8qIENMQVNTICovKSksIFtbX2RpcmVjdGl2ZV9jbGlja19vdXRzaWRlLCBfY3R4Lm9uQ2xvc2VdXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICByZWY6ICJpbnB1dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+IF9jdHguY29udGVudCA9ICRldmVudCksCiAgICB0eXBlOiAidGV4dCIsCiAgICBjbGFzczogInctZnVsbCB2dWUzLWRpc2NvcmQtZW1vamlwaWNrZXJfX2lucHV0IGJnLXRyYW5zcGFyZW50IHB4LTUgcHktMyB0ZXh0LXdoaXRlIG91dGxpbmUtbm9uZSB0ZXh0LWJhc2UgcGxhY2Vob2xkZXItZ3JleS0yMDAiLAogICAgcGxhY2Vob2xkZXI6IF9jdHgucGxhY2Vob2xkZXIsCiAgICBvbklucHV0OiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICguLi5hcmdzKSA9PiBfY3R4Lm9uQ29tcGxldGUgJiYgX2N0eC5vbkNvbXBsZXRlKC4uLmFyZ3MpKQogIH0sIG51bGwsIDQwIC8qIFBST1BTLCBORUVEX0hZRFJBVElPTiAqLywgX2hvaXN0ZWRfOSksIFtbX3ZNb2RlbFRleHQsIF9jdHguY29udGVudF1dKV0pXSk7Cn0="},{"version":3,"names":["class","_createElementBlock","_hoisted_1","_normalizeClass","_ctx","autocomplete","show","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","results","length","_hoisted_4","_Fragment","_renderList","slice","result","r","key","onClick","$event","_hoisted_6","emoji","_hoisted_7","name","replace","onClose","_hoisted_8","ref","content","type","placeholder","onInput","_cache","args","onComplete"],"sources":["/home/pedro/projects/emojipicker/src/components/emojis/Autocomplete.vue"],"sourcesContent":["\n<script>\nimport { defineComponent } from 'vue'\n\nimport clickOutside from '@/directives/click-outside.js'\nexport default defineComponent({\n  props: {\n    value: {\n      type: [String, Number],\n      default: null\n    },\n    placeholder: {\n      type: String\n    },\n    emojis: {\n      type: Array,\n      required: true\n    },\n    openedPicker: {\n      type: Boolean,\n      required: true\n    }\n  },\n  emits: ['close', 'change', 'send'],\n  directives: {\n    clickOutside,\n  },\n  data () {\n    return {\n      autocomplete: {\n        show: false,\n        results: []\n      },\n      content: this.value || null,\n    }\n  },\n  watch: {\n    value (value) {\n      this.content = value\n    },\n    openedPicker (value) {\n      if (value) {\n        this.autocomplete.show = false\n      }\n    }\n  },\n  methods: {\n    onClose () {\n      if (this.autocomplete.show) {\n        this.autocomplete.show = false\n      }\n    },\n    onComplete ({ target }) {\n      const { value } = target\n      const lastWord = value.split(' ').pop().toLowerCase()\n      if (lastWord.startsWith(':') && lastWord.length > 3) {\n        this.autocomplete = {\n          results: this.emojis.filter(({ name }) => name.replace(/\\s/g, '').toLowerCase().includes(lastWord.replace(/:/g, ''))),\n          show: true\n        }\n        this.$emit('close')\n      } else {\n        this.autocomplete = {\n          results: [],\n          show: false\n        }\n      }\n      this.$emit('change', value)\n    },\n    onClick (emoji) {\n      let value = this.content\n      value = value.split(' ')\n      value.pop()\n      this.$emit('change', `${value.join(' ')} ${emoji.emoji}`)\n      this.$emit('send', emoji)\n      this.autocomplete.show = false\n      this.$refs.input.focus()\n    },\n  }\n})\n</script>\n\n<template>\n  <div class=\"w-full\">\n    <div v-click-outside=\"onClose\" :class=\"{ 'opacity-0 pointer-events-none': !autocomplete.show }\" class=\"vue3-discord-emojipicker__autocomplete w-full absolute transform -translate-y-full left-0 -top-4 transition duration-200\">\n      <div class=\"w-full bg-grey-400 py-3 rounded-xl shadow-xl\">\n        <p class=\"text-grey-100 font-semibold uppercase text-sm px-5 mb-3\">{{ autocomplete.results.length }} results</p>\n        <ul class=\"px-3\">\n          <li v-for=\"(result, r) in autocomplete.results.slice(0, 8)\" :key=\"r\" class=\"flex items-center justify-start hover:bg-grey-300 hover:bg-opacity-60 rounded-md px-2 py-1 cursor-pointer\"  @click=\"onClick(result)\">\n            <p class=\"text-lg\">{{ result.emoji}}</p>\n            <p class=\"text-white font-semibold text-sm ml-2\">\n              {{ `:${result.name.replace(/\\s/g, '')}:` }}\n            </p>\n          </li>\n        </ul>\n      </div> \n    </div>\n    <div class=\"w-full relative\">\n      <input ref=\"input\" v-model=\"content\" type=\"text\" class=\"w-full vue3-discord-emojipicker__input bg-transparent px-5 py-3 text-white outline-none text-base placeholder-grey-200\" :placeholder=\"placeholder\" @input=\"onComplete\">\n    </div>\n  </div>\n</template>"],"mappings":";;EAmFOA,KAAK,EAAC;AAAQ;;EAEVA,KAAK,EAAC;AAA8C;;EACpDA,KAAK,EAAC;AAAyD;;EAC9DA,KAAK,EAAC;AAAM;;;EAETA,KAAK,EAAC;AAAS;;EACfA,KAAK,EAAC;AAAuC;;EAOnDA,KAAK,EAAC;AAAiB;;;;uBAd9BC,mBAAA,CAiBM,OAjBNC,UAiBM,G,+BAhBJD,mBAAA,CAYM;IAZ0BD,KAAK,EAAAG,eAAA;MAAA,kCAAsCC,IAAA,CAAAC,YAAY,CAACC;IAAI,GAAU,0HAA0H;MAC9NC,mBAAA,CAUM,OAVNC,UAUM,GATJD,mBAAA,CAAgH,KAAhHE,UAAgH,EAAAC,gBAAA,CAA1CN,IAAA,CAAAC,YAAY,CAACM,OAAO,CAACC,MAAM,IAAG,UAAQ,iBAC5GL,mBAAA,CAOK,MAPLM,UAOK,I,kBANHZ,mBAAA,CAKKa,SAAA,QAAAC,WAAA,CALqBX,IAAA,CAAAC,YAAY,CAACM,OAAO,CAACK,KAAK,SAAxCC,MAAM,EAAEC,CAAC;yBAArBjB,mBAAA,CAKK;MALwDkB,GAAG,EAAED,CAAC;MAAElB,KAAK,EAAC,2GAA2G;MAAGoB,OAAK,EAAAC,MAAA,IAAEjB,IAAA,CAAAgB,OAAO,CAACH,MAAM;QAC5MV,mBAAA,CAAwC,KAAxCe,UAAwC,EAAAZ,gBAAA,CAAlBO,MAAM,CAACM,KAAK,kBAClChB,mBAAA,CAEI,KAFJiB,UAEI,EAAAd,gBAAA,KADKO,MAAM,CAACQ,IAAI,CAACC,OAAO,+B;oFAPdtB,IAAA,CAAAuB,OAAO,E,GAa7BpB,mBAAA,CAEM,OAFNqB,UAEM,G,gBADJrB,mBAAA,CAA+N;IAAxNsB,GAAG,EAAC,OAAO;+DAAUzB,IAAA,CAAA0B,OAAO,GAAAT,MAAA;IAAEU,IAAI,EAAC,MAAM;IAAC/B,KAAK,EAAC,wHAAwH;IAAEgC,WAAW,EAAE5B,IAAA,CAAA4B,WAAW;IAAGC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE/B,IAAA,CAAAgC,UAAA,IAAAhC,IAAA,CAAAgC,UAAA,IAAAD,IAAA,CAAU;uEAAjM/B,IAAA,CAAA0B,OAAO,E","ignoreList":[]}]}
{"remainingRequest":"/home/pedro/projects/emojipicker/node_modules/babel-loader/lib/index.js!/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/pedro/projects/emojipicker/src/components/emojis/EmojiPicker.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pedro/projects/emojipicker/src/components/emojis/EmojiPicker.vue","mtime":1710950675468},{"path":"/home/pedro/projects/emojipicker/babel.config.js","mtime":1710948328868},{"path":"/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js","mtime":1710951417708},{"path":"/home/pedro/projects/emojipicker/node_modules/babel-loader/lib/index.js","mtime":1710951419068},{"path":"/home/pedro/projects/emojipicker/node_modules/cache-loader/dist/cjs.js","mtime":1710951417708},{"path":"/home/pedro/projects/emojipicker/node_modules/vue-loader-v16/dist/index.js","mtime":1710951419058}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY2F0ZWdvcmllczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBlbW9qaXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNvdXJjZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZW1pdDogWydzZW5kJ10sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhvdmVyZWQ6IGZhbHNlLAogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIHZhcmlhdGlvbjogMCwKICAgICAgYWN0aXZlOiAwLAogICAgICBzZWxlY3RlZDogbnVsbCwKICAgICAgb2Zmc2V0VG9wOiBbXSwKICAgICAgLi4udGhpcy5jYXRlZ29yaWVzLm1hcChjYXQgPT4gdGhpc1tgJCR7Y2F0fWBdID0gW10pCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHsKICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmVtb2ppcy5jYXRlZ29yaWVzLmZpbmRJbmRleChjYXQgPT4gY2F0ID09PSBjYXRlZ29yeSk7CiAgICAgIGlmIChpbmRleCA+PSAwKSB7CiAgICAgICAgdGhpcy4kZGF0YVtjYXRlZ29yeV0gPSB0aGlzLmVtb2ppcy5saXN0LmZpbHRlcihlbW9qaSA9PiBlbW9qaS5jYXRlZ29yeSA9PT0gaW5kZXgpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZVNjcm9sbEV2ZW50KCk7CiAgICB0aGlzLmVhY2hDYXRlZ29yaWVzSFRNTCgpOwogIH0sCiAgLy8gdW5tb3VudGVkICgpIHsKICAvLyAgIGNvbnN0IGNvbnRhaW5lcl9lbW9qaXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnVlMy1kaXNjb3JkcGlja2VyJykKICAvLyAgIGNvbnRhaW5lcl9lbW9qaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxFdmVudCkKICAvLyB9LAogIHdhdGNoOiB7CiAgICBzZWFyY2g6ICdvblNlYXJjaCcsCiAgICB2YXJpYXRpb246ICdvblNlYXJjaCcKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZVNjcm9sbEV2ZW50KCkgewogICAgICBjb25zdCBjb250YWluZXJfZW1vamlzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Z1ZTMtZGlzY29yZHBpY2tlcicpOwogICAgICBpZiAoY29udGFpbmVyX2Vtb2ppcykgewogICAgICAgIGNvbnRhaW5lcl9lbW9qaXMuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxFdmVudCk7CiAgICAgIH0KICAgIH0sCiAgICBvblNlYXJjaCgpIHsKICAgICAgdGhpcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4gewogICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lbW9qaXMuY2F0ZWdvcmllcy5maW5kSW5kZXgoY2F0ID0+IGNhdCA9PT0gY2F0ZWdvcnkpOwogICAgICAgIGlmIChpbmRleCA+PSAwKSB7CiAgICAgICAgICB0aGlzLiRkYXRhW2NhdGVnb3J5XSA9IHRoaXMuZW1vamlzLmxpc3QuZmlsdGVyKGVtb2ppID0+IHRoaXMuc2VhcmNoID8gZW1vamkuY2F0ZWdvcnkgPT09IGluZGV4ICYmIGVtb2ppLm5hbWUuaW5jbHVkZXModGhpcy5zZWFyY2gpIDogZW1vamkuY2F0ZWdvcnkgPT09IGluZGV4KTsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5lYWNoQ2F0ZWdvcmllc0hUTUwoKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVTY3JvbGxFdmVudCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlYWNoQ2F0ZWdvcmllc0hUTUwoKSB7CiAgICAgIHRoaXMub2Zmc2V0VG9wID0gW107CiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnVlMy1kaXNjb3JkcGlja2VyX19vYnNlcnZlcicpOwogICAgICBjYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4gewogICAgICAgIHRoaXMub2Zmc2V0VG9wLnB1c2goY2F0ZWdvcnkub2Zmc2V0VG9wKTsKICAgICAgfSk7CiAgICB9LAogICAgc2Nyb2xsRXZlbnQoewogICAgICB0YXJnZXQKICAgIH0pIHsKICAgICAgY29uc3QgewogICAgICAgIHNjcm9sbFRvcAogICAgICB9ID0gdGFyZ2V0OwogICAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRDbG9zZXN0KHNjcm9sbFRvcCk7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vZmZzZXRUb3AuZmluZEluZGV4KG8gPT4gbyA9PT0gaXRlbSk7CiAgICAgIGlmIChpbmRleCA+PSAwKSB7CiAgICAgICAgdGhpcy5hY3RpdmUgPSBpbmRleDsKICAgICAgfQogICAgfSwKICAgIHNldFZhcmlhdGlvbihpbmRleCkgewogICAgICB0aGlzLnZhcmlhdGlvbiA9IGluZGV4OwogICAgICB0aGlzLmhvdmVyZWQgPSBmYWxzZTsKICAgIH0sCiAgICBnb1RvQ2F0ZWdvcnkoaW5kZXgpIHsKICAgICAgY29uc3QgY29udGFpbmVyX2Vtb2ppcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2dWUzLWRpc2NvcmRwaWNrZXInKTsKICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52dWUzLWRpc2NvcmRwaWNrZXJfX29ic2VydmVyJyk7CiAgICAgIGNvbnRhaW5lcl9lbW9qaXMuc2Nyb2xsVG9wID0gY2F0ZWdvcmllc1tpbmRleF0ub2Zmc2V0VG9wOwogICAgfSwKICAgIGdldENsb3Nlc3QoZ29hbCkgewogICAgICBjb25zdCBjbG9zZXN0ID0gdGhpcy5vZmZzZXRUb3AucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7CiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGN1cnIgLSBnb2FsKSA8IE1hdGguYWJzKHByZXYgLSBnb2FsKSA/IGN1cnIgOiBwcmV2OwogICAgICB9KTsKICAgICAgcmV0dXJuIGNsb3Nlc3Q7CiAgICB9LAogICAgZm9ybWF0VXJsU291cmNlcyhzbHVnLCB1cmwpIHsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKCclUkVQTEFDRSUnLCBzbHVnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["props","categories","type","Array","required","emojis","Object","sources","emit","data","hovered","search","variation","active","selected","offsetTop","map","cat","created","forEach","category","index","findIndex","$data","list","filter","emoji","mounted","createScrollEvent","eachCategoriesHTML","watch","methods","container_emojis","document","getElementById","addEventListener","scrollEvent","onSearch","name","includes","$nextTick","querySelectorAll","push","target","scrollTop","item","getClosest","o","setVariation","goToCategory","goal","closest","reduce","prev","curr","Math","abs","formatUrlSources","slug","url","replace"],"sources":["/home/pedro/projects/emojipicker/src/components/emojis/EmojiPicker.vue"],"sourcesContent":["<template>\n  <div style=\"height: calc(100% - 10px)\">\n    <header class=\"bg-grey-400 px-5 pt-2 pb-5 shadow-lg relative z-1\">\n      <div class=\"flex items-center justify-between w-full\">\n        <div class=\"flex items-center justify-between w-full bg-grey-600 rounded-md overflow-hidden pr-4\">\n          <input v-model=\"search\" class=\"bg-grey-600 w-full text-sm py-2 px-3 text-white outline-none\" :placeholder=\"selected && selected.name ? `:${selected.name.replace(/\\s/g, '')}:`: 'Find the perfect emoji'\" />\n          <img :src=\"sources.search\" class=\"w-4\" />\n        </div>\n      </div>\n    </header>\n    <div class=\"vue3-discordpicker__container flex\">\n      <div class=\"vue3-discord-emojipicker__tabs overflow-auto bg-grey-600 px-2 py-2 text-white h-auto hidden md:block\">\n        <img\n          v-for=\"(category, c) in categories\"\n          :key=\"c\"\n          :src=\"formatUrlSources(category, sources.category)\"\n          :class=\"{ 'bg-grey-300 bg-opacity-50': c === active }\"\n          class=\"px-2 py-2 h-9 mb-2 w-full transition duration-200 hover:bg-grey-300 hover:bg-opacity-50 rounded-lg cursor-pointer\"\n          @click=\"goToCategory(c)\"\n        />\n      </div>\n      <div class=\"bg-grey-400 h-full w-full flex flex-col\">\n        <div id=\"vue3-discordpicker\" class=\"overflow-auto relative pb-4 h-full w-full\">\n          <template v-if=\"categories.length > 0\">\n            <template v-for=\"(category, c) in categories\">\n              <div\n                v-if=\"$data[category] && $data[category].length > 0\"\n                :key=\"`category_${c}`\"\n                :class=\"{ 'mt-2': c > 0 }\"\n                class=\"vue3-discordpicker__observer\"\n              >\n                <div class=\"uppercase px-4 py-2 bg-grey-400 text-xs text-grey-100 font-semibold sticky top-0\">\n                  {{ category }}\n                </div>\n                <div class=\"px-4 flex flex-items center justify-start flex-wrap\">\n                  <div\n                    v-for=\"(emoji, e) in $data[category]\"\n                    :key=\"`emoji_${e}`\"\n                    class=\"text-2xl cursor-pointer p-1 transition duration-200 hover:bg-grey-300 hover:bg-opacity-50 rounded-md w-8 h-8 flex items-center justify-center\"\n                    @mouseenter=\"selected = { ...emoji }\"\n                    @click=\"$emit('send', { emoji, send: true })\"\n                  >\n                    <template v-if=\"emoji.variations && variation > 0\">\n                      {{ emoji.variations[variation] }}\n                    </template>\n                    <template v-else>\n                      {{ emoji.emoji }}\n                    </template>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </template>\n          <p v-else class=\"text-grey-100 text-center py-4\">No results found :-(</p>\n        </div>\n        <div v-if=\"selected\" class=\"bg-grey-700 w-full px-5 py-2 border-t border-grey-600 items-center justify-start hidden md:flex\">\n          <p class=\"text-3xl\">{{ selected.emoji}}</p>\n          <p class=\"text-white font-semibold text-sm ml-2\">\n            {{ `:${selected.name.replace(/\\s/g, '')}:` }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    categories: {\n      type: Array,\n      required: true\n    },\n    emojis: {\n      type: Object,\n      required: true\n    },\n    sources: {\n      type: Object,\n      required: true\n    }\n  },\n  emit: ['send'],\n  data () {\n    return {\n      hovered: false,\n      search: null,\n      variation: 0,\n      active: 0,\n      selected: null,\n      offsetTop: [],\n      ...this.categories.map(cat => this[`$${cat}`] = [])\n    }\n  },\n  created () {\n    this.categories.forEach(category => {\n      const index = this.emojis.categories.findIndex(cat => cat === category)\n      if (index >= 0) {\n        this.$data[category] = this.emojis.list.filter(emoji => emoji.category === index)\n      }\n    })\n  },\n  mounted () {\n    this.createScrollEvent()\n    this.eachCategoriesHTML()\n  },\n  // unmounted () {\n  //   const container_emojis = document.getElementById('vue3-discordpicker')\n  //   container_emojis.removeEventListener('scroll', this.scrollEvent)\n  // },\n  watch: {\n    search: 'onSearch',\n    variation: 'onSearch'\n  },\n  methods: {\n    createScrollEvent () {\n      const container_emojis = document.getElementById('vue3-discordpicker')\n      if (container_emojis) {\n        container_emojis.addEventListener('scroll', this.scrollEvent)\n      }\n    },\n    onSearch () {\n      this.categories.forEach(category => {\n        const index = this.emojis.categories.findIndex(cat => cat === category)\n        if (index >= 0) {\n          this.$data[category] = this.emojis.list.filter(emoji => this.search ? emoji.category === index && emoji.name.includes(this.search) : emoji.category === index)\n          this.$nextTick(() => {\n            this.eachCategoriesHTML()\n            this.createScrollEvent()\n          }) \n        }\n      })\n    },\n    eachCategoriesHTML () {\n      this.offsetTop = []\n      const categories = document.querySelectorAll('.vue3-discordpicker__observer')\n      categories.forEach(category => {\n        this.offsetTop.push(category.offsetTop)\n      })\n    },\n    scrollEvent ({ target }) {\n      const { scrollTop } = target\n      const item = this.getClosest(scrollTop)\n      const index = this.offsetTop.findIndex(o => o === item)\n      if (index >= 0) {\n        this.active = index\n      }\n    },\n    setVariation (index) {\n      this.variation = index\n      this.hovered = false\n    },\n    goToCategory (index) {\n      const container_emojis = document.getElementById('vue3-discordpicker')\n      const categories = document.querySelectorAll('.vue3-discordpicker__observer')\n      container_emojis.scrollTop = categories[index].offsetTop\n    },\n    getClosest (goal) {\n      const closest = this.offsetTop.reduce(function(prev, curr) {\n        return (Math.abs(curr - goal) < Math.abs(prev - goal) ? curr : prev)\n      })\n      return closest\n    },\n    formatUrlSources (slug, url) {\n      return url.replace('%REPLACE%', slug)\n    }\n  }\n}\n</script>"],"mappings":"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","ignoreList":[]}]}